version: "3.9"

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    env_file:
      - .env   # mettez vos variables prod ici
    environment:
      NODE_ENV: production
      HOST: 0.0.0.0
      PORT: 3333
    ports:
      - "3333:3333"
#    depends_on:
    # DÃ©commentez si vous utilisez Postgres/Redis
    # - db
    restart: unless-stopped

  # Base Postgres (optionnelle)
  # db:
  #   image: postgres:16-alpine
  #   environment:
  #     POSTGRES_DB: app
  #     POSTGRES_USER: app
  #     POSTGRES_PASSWORD: app
  #   volumes:
  #     - dbdata:/var/lib/postgresql/data
  #   restart: unless-stopped

# volumes:
#   dbdata:
