<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Détails fiche - RELIANCE ESCALADE</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.0/css/all.min.css" rel="stylesheet">
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <link href="/public/css/app.css" rel="stylesheet">
</head>
<body class="bg-gray-100 min-h-screen text-gray-900 flex">


  <!-- Main Panel -->
  <div class="flex-1 flex flex-col" style="margin-top: 3%; margin-bottom:3%">



      <!-- PaySlip Document -->
      <div class="bg-white rounded-3xl shadow-2xl border border-gray-200 overflow-hidden max-w-8xl mx-auto" id="payslipDocument">
        <!-- Document Header -->
        <div class="bg-gradient-to-r from-purple-50 to-indigo-50 p-8 border-b border-gray-200">
          <div class="flex items-center justify-between">
            <div>
              <h2 class="text-xl font-bold text-gray-800 mb-2">BULLETIN DE PAIE</h2>
              <p class="text-cyan-700 font-normal">{{ paySlip.mois }} {{ paySlip.annee }}</p>
            </div>
            <div class="text-right">
              <div class="font-bold text-gray-800 text-xl">RELIANCE WEST AFRICA</div>
              {{-- <div class="text-md text-cyan-700">Lomé, Togo</div> --}}
              <div class="text-md text-cyan-700">{{ paySlip.createdAt.toFormat('dd/MM/yyyy') }}</div>
            </div>
          </div>
        </div>

        <!-- Employee Information -->
        <div class="p-8 border-b border-gray-200">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
              <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                <i class="fas fa-user text-purple-600 mr-2"></i>
                INFORMATIONS EMPLOYÉ
              </h3>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                  <span class="text-gray-600">Nom complet :</span>
                  <span class="font-medium">{{ paySlip.employee.fullName }}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600">Poste :</span>
                  <span class="font-medium">{{ paySlip.employee.poste }}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600">Département : </span>
                  <span class="font-medium">{{ paySlip.employee.departement }}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600">Type contrat :</span>
                  <span class="font-medium">{{ paySlip.employee.typeContrat }}</span>
                </div>
              </div>
            </div>

            <div>
              <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                <i class="fas fa-building text-purple-600 mr-2"></i>
                INFORMATIONS ENTREPRISE
              </h3>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                  <span class="text-gray-600">Entreprise :</span>
                  <span class="font-medium">RELIANCE ESCALADE</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600">Adresse :</span>
                  <span class="font-medium">Lomé, Togo</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600">Période :</span>
                  <span class="font-medium">{{ paySlip.mois }} {{ paySlip.annee }}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600">Date génération :</span>
                  <span class="font-medium">{{ paySlip.createdAt.toFormat('dd/MM/yyyy') }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Salary Details -->
        <div class="p-8">
          <h3 class="font-bold text-gray-800 mb-6 flex items-center">
            <i class="fas fa-calculator text-purple-600 mr-2"></i>
            DÉTAIL DES RÉMUNÉRATIONS ET RETENUES
          </h3>

          <div class="overflow-hidden rounded-xl border border-gray-200">
            <table class="w-full">
              <thead class="bg-gradient-to-r from-purple-50 to-indigo-50">
                <tr>
                  <th class="px-6 py-4 text-left text-sm font-bold text-gray-700">LIBELLÉ</th>
                  <th class="px-6 py-4 text-right text-sm font-bold text-gray-700">BASE</th>
                  <th class="px-6 py-4 text-right text-sm font-bold text-gray-700">TAUX</th>
                  <th class="px-6 py-4 text-right text-sm font-bold text-gray-700">MONTANT</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <tr class="bg-green-50/50">
                  <td class="px-6 py-4 text-sm font-medium text-gray-900">Salaire de base</td>
                  <td class="px-6 py-4 text-sm text-right">{{ paySlip.salaireBrut.toLocaleString() }} FCFA</td>
                  <td class="px-6 py-4 text-sm text-right">100%</td>
                  <td class="px-6 py-4 text-md text-right font-semibold text-green-700">{{ paySlip.salaireBrut.toLocaleString() }} FCFA</td>
                </tr>
                <tr class="bg-red-50/50">
                  <td class="px-6 py-4 text-sm font-medium text-gray-900">Cotisations sociales</td>
                  <td class="px-6 py-4 text-sm text-right">{{ paySlip.salaireBrut.toLocaleString() }} FCFA</td>
                  <td class="px-6 py-4 text-sm text-right">31,5%</td>
                  <td class="px-6 py-4 text-md text-right font-semibold text-red-600">-{{ paySlip.cotisations.toLocaleString() }} FCFA</td>
                </tr>
              </tbody>
              <tfoot class="bg-gradient-to-r from-blue-50 to-indigo-50">
                <tr>
                  <td class="px-6 py-4 text-sm font-bold text-gray-900" colspan="3">SALAIRE NET À PAYER</td>
                  <td class="px-6 py-4 text-lg font-bold text-right text-cyan-700">{{ paySlip.salaireNet.toLocaleString() }} FCFA</td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>

        <!-- Document Footer -->
        <div class="bg-gray-50 p-6 text-center border-t border-gray-200">
          <p class="text-xs text-gray-500 mb-2">
            Document généré automatiquement par le système RH RELIANCE ESCALADE
          </p>
          <p class="text-xs text-gray-400">
            Ce document est confidentiel et destiné uniquement à l'employé {{ paySlip.employee.fullName }}
          </p>
        </div>
      </div>

      <style>
      .btn-outline {
        @apply px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all duration-200 flex items-center justify-center;
      }

      @media print {
        body * {
          visibility: hidden;
        }
        #payslipDocument, #payslipDocument * {
          visibility: visible;
        }
        #payslipDocument {
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
        }
      }
      </style>

      <script>
      function downloadPayslip() {
        window.location.href = `/payslips/{{ paySlip.id }}/download`;
      }

      function printPayslip() {
        window.print();
      }
      </script>
      {{-- @endsection --}}
      </main>
  </div>
</body>
</html>
